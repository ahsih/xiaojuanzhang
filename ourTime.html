<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>é‡è¦æ—¥å­çš„å€’è®¡æ—¶</title>
    <style>
      html,
      body {
        margin: 0;
        height: 100%;
        width: 100%;
        background: #fff0f5;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        font-family: "Segoe UI", sans-serif;
      }

      h1 {
        color: #c9184a;
        font-size: 32px;
        margin-bottom: 30px;
        text-align: center;
      }

      .timers {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: center;
      }

      .timer-card {
        background: white;
        padding: 20px 25px;
        border-radius: 15px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        text-align: center;
        width: 220px;
        transition: transform 0.3s;
      }

      .timer-card:hover {
        transform: translateY(-5px);
      }

      .event-name {
        font-size: 22px;
        color: #c9184a;
        margin-bottom: 10px;
      }

      .countdown {
        font-size: 18px;
        color: #333;
        white-space: pre-line;
      }

      .bold-countdown {
        font-size: 26px;
        color: #c9184a;
      }
    </style>
  </head>

  <body>
    <h1>é‡è¦æ—¥å­çš„å€’è®¡æ—¶ â¤ï¸</h1>
    <div class="timers">
      <div class="timer-card">
        <div class="event-name">åˆé‡è‡³ä»Š ğŸŒ¸</div>
        <div class="bold-countdown">2025-07-11</div>
        <div class="countdown" id="meetTime">åŠ è½½ä¸­...</div>
      </div>
      <div class="timer-card">
        <div class="event-name">çˆ±çš„ç´¯è®¡ â¤ï¸ â†’ â¤ï¸</div>
        <div class="bold-countdown">2025-07-26</div>
        <div class="countdown" id="togetherTime">åŠ è½½ä¸­...</div>
      </div>
      <div class="timer-card">
        <div class="event-name">å°å®è´ç”Ÿæ—¥ï¼ˆä¸­ç§‹èŠ‚ï¼‰ ğŸ‚ + ğŸŒ•</div>
        <div class="bold-countdown" id="babeBirth">2025-07-26</div>
        <div class="countdown" id="midAutumn">åŠ è½½ä¸­...</div>
      </div>
      <div class="timer-card">
        <div class="event-name">å¤§å®è´ç”Ÿæ—¥ ğŸ‚</div>
        <div class="bold-countdown" id="myBirth">1995-10-26</div>
        <div class="countdown" id="myBirthdayTime">åŠ è½½ä¸­...</div>
      </div>
      <div class="timer-card">
        <div class="event-name">æƒ…äººèŠ‚ ğŸ’Œ</div>
        <div class="bold-countdown">02-14</div>
        <div class="countdown" id="valentine">åŠ è½½ä¸­...</div>
      </div>
      <div class="timer-card">
        <div class="event-name">çˆ±ä½ æ—¥ ğŸ’•</div>
        <div class="bold-countdown">05-20</div>
        <div class="countdown" id="may20">åŠ è½½ä¸­...</div>
      </div>
    </div>

    <script>
      const birthDiv = document.getElementById("myBirth");
      const currentYear = new Date().getFullYear();
      const parts = birthDiv.textContent.split("-");
      parts[0] = currentYear;
      birthDiv.textContent = parts.join("-");

      // Pre-calculated Mid-Autumn Festival dates
      const midAutumnDates = {
        2025: "2025-10-06",
        2026: "2026-09-25",
        2027: "2027-09-15",
      };
      function getNextDate(month, day) {
        const now = new Date();
        let year = now.getFullYear();
        const target = new Date(
          `${year}-${String(month).padStart(2, "0")}-${String(day).padStart(
            2,
            "0"
          )}T00:00:00`
        );
        if (target < now) year += 1;
        return new Date(
          `${year}-${String(month).padStart(2, "0")}-${String(day).padStart(
            2,
            "0"
          )}T00:00:00`
        );
      }

      function getNextMidAutumn() {
        const now = new Date();
        let year = now.getFullYear();
        if (!midAutumnDates[year] || new Date(midAutumnDates[year]) < now)
          year += 1;
        return new Date(midAutumnDates[year]);
      }

      function formatDate() {
        const date = getNextMidAutumn();
        return `${date.getFullYear()}-${date.getMonth()}-${date.getDay()} `;
      }

      function formatCountdown(target) {
        const now = new Date();
        const diff = target - now;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);
        return `ä¸‹ä¸€æ¬¡ï¼š${days} å¤©\n${hours} å°æ—¶\n${minutes} åˆ†é’Ÿ\n${seconds} ç§’`;
      }

      function formatTotalTime(startDate) {
        const now = new Date();
        const diff = now - startDate;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);
        return `${days} å¤©\n${hours} å°æ—¶\n${minutes} åˆ†é’Ÿ\n${seconds} ç§’`;
      }

      function updateCountdowns() {
        const startTogether = new Date("2025-07-26T00:00:00");
        const meetTogether = new Date("2025-07-11T00:00:00");
        document.getElementById("togetherTime").textContent =
          formatTotalTime(startTogether);
        document.getElementById("meetTime").textContent =
          formatTotalTime(meetTogether);
        document.getElementById("valentine").textContent = formatCountdown(
          getNextDate(2, 14)
        );
        document.getElementById("may20").textContent = formatCountdown(
          getNextDate(5, 20)
        );
        document.getElementById("myBirthdayTime").textContent = formatCountdown(
          getNextDate(10, 26)
        );
        document.getElementById("babeBirth").textContent = formatDate();
        document.getElementById("midAutumn").textContent = formatCountdown(
          getNextMidAutumn()
        );
      }

      setInterval(updateCountdowns, 1000);
      updateCountdowns();
    </script>
  </body>
</html>
